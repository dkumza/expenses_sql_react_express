import { useContext } from 'react';
import { ExpContext } from './ExpContext';

const getCategoryInfo = (category) => {
   switch (category) {
      case '1':
         return ['bi-lightning-charge'];
      case '2':
         return ['bi-house-heart'];
      case '3':
         return ['bi-balloon-heart'];
      default:
         return ['bi-cash-stack'];
   }
};

export const Expense = ({ exp }) => {
   const { handleEdit } = useContext(ExpContext);

   const iconClass = getCategoryInfo(exp.cat_id);

   return (
      <div id={exp.id} className="w-full" onClick={() => handleEdit(exp.id)}>
         <li className="flex w-full items-center border border-gray-100 rounded shadow px-1 py-1 hover:bg-gradient-to-r from-white to-gray-50 shadow-gray-300/50 hover:cursor-pointer">
            <div className="flex justify-center items-center px-3 mr-4 border-r">
               <i className={`bi ${iconClass[0]}`}></i>
            </div>
            <div className="category-item md:pr-8 pr-4">
               <h3 className="text-base">{exp.cat_name}</h3>
               <p className="text-xs font-normal text-gray-400">{exp.date}</p>
            </div>
            <div className="text-sm text-gray-400">{exp.comment}</div>
            <div className="ml-auto  pr-4">
               <h3
                  className={
                     exp.amount > 0 && exp.cat_id === '4'
                        ? 'text-lime-400'
                        : 'text-rose-400'
                  }
               >
                  {exp.amount} EUR
               </h3>
            </div>
         </li>
      </div>
   );
};
